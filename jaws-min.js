/* Built at 2013-09-07 18:58:26 +0200 */
var jaws=function(b){function c(c){b.mouse_x=c.pageX||c.clientX;b.mouse_y=c.pageY||c.clientY;c=b.canvas?b.canvas:b.dom;b.mouse_x-=c.offsetLeft;b.mouse_y-=c.offsetTop}var d,e;b.Parallax=function(){b.log.error("To use jaws.Parallax() you need to include src/extras/parallax.js")};b.SpriteList=function(){b.log.error("To use SpriteList() you need to include src/extras/sprite_list.js")};b.TileMap=function(){b.log.error("To use TileMap() you need to include src/extras/tile_map.js")};b.PixelMap=function(){b.log.error("To use PixelMap() you need to include src/extras/pixel_map.js")};
b.QuadTree=function(){b.log.error("To use QuadTree() you need to include src/extras/quadtree.js")};b.Audio=function(){b.log.error("To use jaws.Audio() you need to include src/extras/audio.js")};b.title=function(c){if(b.isString(c))return c?d.innerHTML=c:d.innerHTML;b.log.error("jaws.title: Passed in value is not a String.")};b.unpack=function(){"Sprite SpriteList Animation Viewport SpriteSheet Parallax TileMap pressed QuadTree".split(" ").forEach(function(c){window[c]?b.log.warn("jaws.unpack: "+c+
" already exists in global namespace."):window[c]=b[c]})};b.log=function(c,d){b.isString(c)||(c=JSON.stringify(c));b.log.on&&(e&&b.log.use_log_element&&(e.innerHTML=d?e.innerHTML+(c+"<br />"):c),console.log&&b.log.use_console&&console.log("JawsJS: ",c))};b.log.on=!0;b.log.use_console=!1;b.log.use_log_element=!0;b.log.warn=function(c){console.warn&&b.log.use_console&&b.log.on?console.warn(c):b.log("[WARNING]: "+JSON.stringify(c),!0)};b.log.error=function(c){console.error&&b.log.use_console&&b.log.on?
console.error(c):b.log("[ERROR]: "+JSON.stringify(c),!0)};b.log.info=function(c){console.info&&b.log.use_console&&b.log.on?console.info(c):b.log("[INFO]: "+JSON.stringify(c),!0)};b.log.debug=function(c){console.debug&&b.log.use_console&&b.log.on?console.debug(c):b.log("[DEBUG]: "+JSON.stringify(c),!0)};b.log.clear=function(){e&&(e.innerHTML="");console.clear&&console.clear()};b.init=function(h){d=document.getElementsByTagName("title")[0];b.url_parameters=b.getUrlParameters();b.canvas=document.getElementsByTagName("canvas")[0];
b.canvas||(b.dom=document.getElementById("canvas"));b.canvas?b.context=b.canvas.getContext("2d"):b.dom?b.dom.style.position="relative":(b.canvas=document.createElement("canvas"),b.canvas.width=h.width,b.canvas.height=h.height,b.context=b.canvas.getContext("2d"),document.body.appendChild(b.canvas));e=document.getElementById("jaws-log");b.url_parameters.debug&&!e&&(e=document.createElement("div"),e.id="jaws-log",e.style.cssText="overflow: auto; color: #aaaaaa; width: 300px; height: 150px; margin: 40px auto 0px auto; padding: 5px; border: #444444 1px solid; clear: both; font: 10px verdana; text-align: left;",
document.body.appendChild(e));b.url_parameters.bust_cache&&(b.log.info("Busting cache when loading assets"),b.assets.bust_cache=!0);b.context&&b.useCrispScaling();b.width=b.canvas?b.canvas.width:b.dom.offsetWidth;b.height=b.canvas?b.canvas.height:b.dom.offsetHeight;b.mouse_x=0;b.mouse_y=0;window.addEventListener("mousemove",c)};b.useCrispScaling=function(){b.context.imageSmoothingEnabled=!1;b.context.webkitImageSmoothingEnabled=!1;b.context.mozImageSmoothingEnabled=!1};b.useSmoothScaling=function(){b.context.imageSmoothingEnabled=
!0;b.context.webkitImageSmoothingEnabled=!0;b.context.mozImageSmoothingEnabled=!0};b.start=function(c,e,d){function g(c,d){b.log.info(d+"%: "+c,!0);e.loading_screen&&b.assets.displayProgress(d)}function k(c,e){b.log.info(e+"%: Error loading asset "+c,!0)}function q(){b.log.info("all assets loaded",!0);b.switchGameState(c||window,{fps:v},d)}if(b.isFunction(c))if(b.isObject(d)||void 0===d){e||(e={});var v=e.fps||60;void 0===e.loading_screen&&(e.loading_screen=!0);e.width||(e.width=500);e.height||(e.height=
300);b.init(e);e.loading_screen&&b.assets.displayProgress(0);b.log.info("setupInput()",!0);b.setupInput();b.log.info("assets.loadAll()",!0);0<b.assets.length()?b.assets.loadAll({onprogress:g,onerror:k,onload:q}):q()}else b.log.error("jaws.start: The setup options for the game state is not an object.");else b.log.error("jaws.start: Passed in GameState is not a function.")};b.switchGameState=function(c,e,d){b.isFunction(c)&&(c=new c);b.isObject(c)?(e=e&&e.fps||b.game_loop&&b.game_loop.fps||60,b.game_loop&&
b.game_loop.stop(),b.clearKeyCallbacks(),b.previous_game_state=b.game_state,b.game_state=c,b.game_loop=new b.GameLoop(c,{fps:e},d),b.game_loop.start()):b.log.error("jaws.switchGameState: Passed in GameState should be a Function or an Object.")};b.imageToCanvas=function(c){if(b.isCanvas(c))return c;if(b.isImage(c)){var e=document.createElement("canvas");e.src=c.src;e.width=c.width;e.height=c.height;e.getContext("2d").drawImage(c,0,0,c.width,c.height);return e}b.log.error("jaws.imageToCanvas: Passed in object is not an Image.")};
b.forceArray=function(b){return Array.isArray(b)?b:[b]};b.clear=function(){b.context.clearRect(0,0,b.width,b.height)};b.fill=function(c){b.context.fillStyle=c;b.context.fillRect(0,0,b.width,b.height)};b.draw=function(){var c=arguments;1==c.length&&b.isArray(c[0])&&(c=c[0]);for(var e=0;e<c.length;e++)b.isArray(c[e])?b.draw(c[e]):c[e].draw()};b.update=function(){var c=arguments;1==c.length&&b.isArray(c[0])&&(c=c[0]);for(var e=0;e<c.length;e++)b.isArray(c[e])?b.update(c[e]):c[e].update()};b.isImage=
function(b){return"[object HTMLImageElement]"===Object.prototype.toString.call(b)};b.isCanvas=function(b){return"[object HTMLCanvasElement]"===Object.prototype.toString.call(b)};b.isDrawable=function(c){return b.isImage(c)||b.isCanvas(c)};b.isString=function(b){return"string"===typeof b||"object"===typeof b&&b.constructor===String};b.isNumber=function(b){return!isNaN(parseFloat(b))&&isFinite(b)};b.isArray=function(b){return b?-1!==b.constructor.toString().indexOf("Array"):!1};b.isObject=function(b){return null!==
b&&"object"===typeof b};b.isFunction=function(b){return"[object Function]"===Object.prototype.toString.call(b)};b.isRegExp=function(b){return b instanceof RegExp};b.isOutsideCanvas=function(c){if(c.x&&c.y)return 0>c.x||0>c.y||c.x>b.width||c.y>b.height};b.forceInsideCanvas=function(c){c.x&&c.y&&(0>c.x&&(c.x=0),c.x>b.width&&(c.x=b.width),0>c.y&&(c.y=0),c.y>b.height&&(c.y=b.height))};b.getUrlParameters=function(){for(var b=[],c,e=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),
d=0;d<e.length;d++)c=e[d].split("="),b.push(c[0]),b[c[0]]=c[1];return b};b.parseOptions=function(c,e,d){c.options=e;for(var g in e)void 0===d[g]&&b.log.warn("jaws.parseOptions: Unsupported property "+g+"for "+c.constructor);for(g in d)b.isFunction(d[g])&&(d[g]=d[g]()),c[g]=void 0!==e[g]?e[g]:b.clone(d[g])};b.clone=function(c){return b.isArray(c)?c.slice(0):b.isObject(c)?JSON.parse(JSON.stringify(c)):c};b.imageToCanvasContext=function(c){var e=document.createElement("canvas");e.width=c.width;e.height=
c.height;var d=e.getContext("2d");b.context&&(d.imageSmoothingEnabled=b.context.mozImageSmoothingEnabled,d.webkitImageSmoothingEnabled=b.context.mozImageSmoothingEnabled,d.mozImageSmoothingEnabled=b.context.mozImageSmoothingEnabled);d.drawImage(c,0,0,e.width,e.height);return d};return b}(jaws||{}),jaws=function(b){b.gfx={};b.gfx.retroScaleImage=function(c,d){var e=b.isImage(c)?b.imageToCanvas(c):c,e=e.getContext("2d").getImageData(0,0,e.width,e.height).data,h=document.createElement("canvas");h.width=
c.width*d;h.height=c.height*d;for(var f=h.getContext("2d"),l=f.createImageData(h.width,h.height),g=l.width,k=l.height,q=0;q<k;q+=1)for(var v=q*l.width,n=Math.floor(q/d)*c.width,m=0;m<g;m+=1){var r=4*(v+m),s=4*(n+Math.floor(m/d));l.data[r]=e[s];l.data[r+1]=e[s+1];l.data[r+2]=e[s+2];l.data[r+3]=e[s+3]}f.putImageData(l,0,0);return h};return b}(jaws||{}),jaws=function(b){function c(b){k={}}function d(b){event=b?b:window.event;v[event.keyCode].split(" ").forEach(function(c){k[c]=!1;m[c]&&(m[c](c),b.preventDefault());
u[c]&&b.preventDefault()})}function e(b){event=b?b:window.event;v[event.keyCode].split(" ").forEach(function(c){k[c]=!0;n[c]&&(n[c](c),b.preventDefault());u[c]&&b.preventDefault()})}function h(b){event=b?b:window.event;var c=r[event.button];"Microsoft Internet Explorer"==navigator.appName&&(c=s[event.button]);k[c]=!0;n[c]&&(n[c](c),b.preventDefault())}function f(b){event=b?b:window.event;var c=r[event.button];"Microsoft Internet Explorer"==navigator.appName&&(c=s[event.button]);k[c]=!1;m[c]&&(m[c](c),
b.preventDefault())}function l(c){event=c?c:window.event;k.left_mouse_button=!0;b.mouse_x=c.touches[0].pageX-b.canvas.offsetLeft;b.mouse_y=c.touches[0].pageY-b.canvas.offsetTop}function g(c){event=c?c:window.event;k.left_mouse_button=!1;b.mouse_x=void 0;b.mouse_y=void 0}var k={},q={},v=[],n=[],m=[],r=[],s=[];b.setupInput=function(){var k=[];k[8]="backspace";k[9]="tab";k[13]="enter";k[16]="shift";k[17]="ctrl";k[18]="alt";k[19]="pause";k[20]="capslock";k[27]="esc";k[32]="space";k[33]="pageup";k[34]=
"pagedown";k[35]="end";k[36]="home";k[37]="left";k[38]="up";k[39]="right";k[40]="down";k[45]="insert";k[46]="delete";k[91]="left_window_key leftwindowkey";k[92]="right_window_key rightwindowkey";k[93]="select_key selectkey";k[106]="multiply *";k[107]="add plus +";k[109]="subtract minus -";k[110]="decimalpoint";k[111]="divide /";k[144]="numlock";k[145]="scrollock";k[186]="semicolon ;";k[187]="equalsign =";k[188]="comma ,";k[189]="dash -";k[190]="period .";k[191]="forwardslash /";k[192]="graveaccent `";
k[219]="openbracket [";k[220]="backslash \\";k[221]="closebracket ]";k[222]="singlequote '";r=["left_mouse_button","center_mouse_button","right_mouse_button"];s=[,"left_mouse_button","right_mouse_button",,"center_mouse_button"];for(var q="numpad0 numpad1 numpad2 numpad3 numpad4 numpad5 numpad6 numpad7 numpad8 numpad9".split(" "),n="f1 f2 f3 f4 f5 f6 f7 f8 f9".split(" "),m="0123456789".split(""),u="abcdefghijklmnopqrstuvwxyz".split(""),p=0;m[p];p++)k[48+p]=m[p];for(p=0;u[p];p++)k[65+p]=u[p];for(p=
0;q[p];p++)k[96+p]=q[p];for(p=0;n[p];p++)k[112+p]=n[p];v=k;window.addEventListener("keydown",e);window.addEventListener("keyup",d);k=b.canvas||b.dom;k.addEventListener("mousedown",h,!1);k.addEventListener("mouseup",f,!1);k.addEventListener("touchstart",l,!1);k.addEventListener("touchend",g,!1);window.addEventListener("blur",c,!1);document.oncontextmenu=function(){return!1}};var u=[];b.preventDefaultKeys=function(c){var e=arguments;1==e.length&&b.isArray(e[0])&&(e=e[0]);for(var d=0;d<e.length;d++)u[e[d]]=
!0};b.pressed=function(c,e){b.isString(c)&&(c=c.split(" "));return e?c.every(function(b){return k[b]}):c.some(function(b){return k[b]})};b.pressedWithoutRepeat=function(c,e){if(b.pressed(c,e)){if(!q[c])return q[c]=!0}else return q[c]=!1};b.on_keydown=function(c,e){if(b.isArray(c))for(var d=0;c[d];d++)n[c[d]]=e;else n[c]=e};b.on_keyup=function(c,e){if(b.isArray(c))for(var d=0;c[d];d++)m[c[d]]=e;else m[c]=e};b.clearKeyCallbacks=function(){m=[];n=[]};return b}(jaws||{}),jaws=function(b){b.Assets=function(){function c(c){if(b.isString(c))return c=
f.getPostfix(c),f.file_type[c]?f.file_type[c]:c;b.log.error("jaws.assets.getType: Argument not a String with "+c)}function d(e){var d=this.asset,g=d.src,l=c(d.src);try{if("json"===l){if(4!==this.readyState)return;f.data[d.src]=JSON.parse(this.responseText)}else if("image"===l){var m=f.image_to_canvas?b.imageToCanvas(d.image):d.image;if(f.fuchia_to_transparent&&"bmp"===f.getPostfix(d.src))if(l=m,b.isDrawable(l)){for(var r=b.isImage(l)?b.imageToCanvas(l):l,s=r.getContext("2d"),u=s.getImageData(0,0,
r.width,r.height),t=u.data,l=0;l<t.length;l+=4)255===t[l]&&0===t[l+1]&&255===t[l+2]&&(t[l+3]=0);s.putImageData(u,0,0);m=r}else m=void 0;f.data[d.src]=m}else"audio"===l&&f.can_play[f.getPostfix(d.src)]?f.data[d.src]=d.audio:"video"===l&&f.can_play[f.getPostfix(d.src)]?f.data[d.src]=d.video:f.data[d.src]=this.response}catch(w){b.log.error("Cannot process "+g+" (Message: "+w.message+", Name: "+w.name+")"),f.data[d.src]=null}f.loaded[g]||f.load_count++;f.loaded[g]=!0;f.loading[g]=!1;h(d,!0,e)}function e(b){var c=
this.asset;f.error_count++;h(c,!1,b)}function h(b,c,e){var d=parseInt(100*((f.load_count+f.error_count)/f.src_list.length));if(c){if(f.onprogress)f.onprogress(b.src,d);if(b.onprogress&&void 0!==e)b.onprogress(e)}else{if(f.onerror)f.onerror(b.src,d);if(b.onerror&&void 0!==e)b.onerror(e)}if(100===d){if(f.onload)f.onload();f.onprogress=null;f.onerror=null;f.onload=null}}if(!(this instanceof arguments.callee))return new arguments.callee;var f=this;f.loaded=[];f.loading=[];f.src_list=[];f.data=[];f.bust_cache=
!1;f.image_to_canvas=!0;f.fuchia_to_transparent=!0;f.root="";f.file_type={};f.file_type.json="json";f.file_type.wav="audio";f.file_type.mp3="audio";f.file_type.ogg="audio";f.file_type.m4a="audio";f.file_type.weba="audio";f.file_type.aac="audio";f.file_type.mka="audio";f.file_type.flac="audio";f.file_type.png="image";f.file_type.jpg="image";f.file_type.jpeg="image";f.file_type.gif="image";f.file_type.bmp="image";f.file_type.tiff="image";f.file_type.mp4="video";f.file_type.webm="video";f.file_type.ogv=
"video";f.file_type.mkv="video";var l=new Audio,g=document.createElement("video");f.can_play={};f.can_play.wav=!!l.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"");f.can_play.ogg=!!l.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"");f.can_play.mp3=!!l.canPlayType("audio/mpeg;").replace(/^no$/,"");f.can_play.m4a=!!(l.canPlayType("audio/x-m4a;")||l.canPlayType("audio/aac;")).replace(/^no$/,"");f.can_play.weba=!!l.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"");f.can_play.aac=
!!l.canPlayType("audio/aac;").replace(/^no$/,"");f.can_play.mka=!!l.canPlayType("audio/x-matroska;").replace(/^no$/,"");f.can_play.flac=!!l.canPlayType("audio/x-flac;").replace(/^no$/,"");f.can_play.mp4=!!g.canPlayType("video/mp4;").replace(/^no$/,"");f.can_play.webm=!!g.canPlayType('video/webm; codecs="vorbis"').replace(/^no$/,"");f.can_play.ogv=!!g.canPlayType('video/ogg; codecs="vorbis"').replace(/^no$/,"");f.can_play.mkv=!!g.canPlayType("video/x-matroska;").replace(/^no$/,"");f.length=function(){return f.src_list.length};
f.setRoot=function(b){f.root=b;return f};f.get=function(c){if(b.isArray(c))return c.map(function(b){return f.data[b]});if(b.isString(c)){if("*"===c[c.length-1])for(var e=c.replace("*",""),d=0;d<f.src_list.length;d++)if(0==f.src_list[d].indexOf(e)&&f.data[f.src_list[d]])return f.data[f.src_list[d]];if(f.data[c])return f.data[c];b.log.warn("No such asset: "+c,!0)}else b.log.error("jaws.get: Neither String nor Array. Incorrect URL resource "+c)};f.isLoading=function(c){if(b.isString(c))return f.loading[c];
b.log.error("jaws.isLoading: Argument not a String with "+c)};f.isLoaded=function(c){if(b.isString(c))return f.loaded[c];b.log.error("jaws.isLoaded: Argument not a String with "+c)};f.getPostfix=function(c){if(b.isString(c))return c.toLowerCase().match(/.+\.([^?]+)(\?|$)/)[1];b.log.error("jaws.assets.getPostfix: Argument not a String with "+c)};f.add=function(c){var e=arguments;1==e.length&&b.isArray(e[0])&&(e=e[0]);for(var d=0;d<e.length;d++)b.isArray(e[d])?f.add(e[d]):b.isString(e[d])?f.src_list.push(e[d]):
b.log.error("jaws.assets.add: Neither String nor Array. Incorrect URL resource "+c);return f};f.loadAll=function(c){f.load_count=0;f.error_count=0;c.onprogress&&b.isFunction(c.onprogress)&&(f.onprogress=c.onprogress);c.onerror&&b.isFunction(c.onerror)&&(f.onerror=c.onerror);c.onload&&b.isFunction(c.onload)&&(f.onload=c.onload);f.src_list.forEach(function(b){f.load(b)});return f};f.load=function(k,l){l||(l={});if(b.isString(k)){var g={},n="";g.src=k;g.onload=l.onload;g.onerror=l.onerror;f.loading[k]=
!0;n=/^((f|ht)tp(s)?:)?\/\//.test(k)?g.src:f.root+g.src;f.bust_cache&&(n+="?"+parseInt(1E7*Math.random()));var m=c(g.src);if("image"===m)try{g.image=new Image,g.image.asset=g,g.image.addEventListener("load",d),g.image.addEventListener("error",e),g.image.src=n}catch(r){b.log.error("Cannot load Image resource "+n+" (Message: "+r.message+", Name: "+r.name+")")}else if(f.can_play[f.getPostfix(g.src)])if("audio"===m)try{g.audio=new Audio,g.audio.asset=g,g.audio.addEventListener("error",e),g.audio.addEventListener("canplay",
d),f.data[g.src]=g.audio,g.audio.src=n,g.audio.load()}catch(s){b.log.error("Cannot load Audio resource "+n+" (Message: "+s.message+", Name: "+s.name+")")}else{if("video"===m)try{g.video=document.createElement("video"),g.video.asset=g,f.data[g.src]=g.video,g.video.setAttribute("style","display:none;"),g.video.addEventListener("error",e),g.video.addEventListener("canplay",d),document.body.appendChild(g.video),g.video.src=n,g.video.load()}catch(u){b.log.error("Cannot load Video resource "+n+" (Message: "+
u.message+", Name: "+u.name+")")}}else{if("audio"===m&&!f.can_play[f.getPostfix(g.src)])return f.loaded[g.src]=!0,f.loading[g.src]=!1,f.load_count++,h(g,!0),f;try{var t=new XMLHttpRequest;t.asset=g;t.onreadystatechange=d;t.onerror=e;t.open("GET",n,!0);"json"!==m&&(t.responseType="blob");t.send(null)}catch(w){b.log.error("Cannot load "+n+" (Message: "+w.message+", Name: "+w.name+")")}}return f}b.log.error("jaws.assets.load: Argument not a String with "+k)};f.displayProgress=function(c){b.isNumber(c)&&
b.context&&(b.context.save(),b.context.fillStyle="black",b.context.fillRect(0,0,b.width,b.height),b.context.fillStyle="white",b.context.strokeStyle="white",b.context.textAlign="center",b.context.strokeRect(49,b.height/2-30-1,b.width-100+2,62),b.context.fillRect(50,b.height/2-30,(b.width-100)/100*c,60),b.context.font="11px verdana",b.context.fillText("Loading... "+c+"%",b.width/2,b.height/2-35),b.context.font="11px verdana",b.context.fillStyle="#ccc",b.context.textBaseline="bottom",b.context.fillText("powered by www.jawsjs.com",
b.width/2,b.height-1),b.context.restore())}};b.assets=new b.Assets;return b}(jaws||{}),jaws=function(b){function c(c){this.size=c;this.values=Array(this.size);this.value;this.add=function(c){if(this.values.length>this.size){this.values.splice(0,1);for(var b=this.value=0;this.values[b];b++)this.value+=this.values[b];this.value/=this.size}this.values.push(c);return this};this.get=function(){return parseInt(this.value)}}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c,b){window.setTimeout(c,16.666)}}();b.GameLoop=function(d,e,h){if(!(this instanceof arguments.callee))return new arguments.callee(d,e);this.ticks=this.fps=this.tick_duration=0;var f,l=!1,g=!1,k=this,q=new c(20);this.runtime=function(){return this.last_tick-this.first_tick};this.start=function(){b.log.info("Game loop start",!0);this.first_tick=(new Date).getTime();this.current_tick=(new Date).getTime();
this.last_tick=(new Date).getTime();d.setup&&d.setup(h);step_delay=1E3/e.fps;60==e.fps?requestAnimFrame(this.loop):f=setInterval(this.loop,step_delay)};this.loop=function(){k.current_tick=(new Date).getTime();k.tick_duration=k.current_tick-k.last_tick;k.fps=q.add(1E3/k.tick_duration).get();g||l||(d.update&&d.update(),d.draw&&d.draw(),k.ticks++);60!=e.fps||g||requestAnimFrame(k.loop);k.last_tick=k.current_tick};this.pause=function(){l=!0};this.unpause=function(){l=!1};this.stop=function(){f&&clearInterval(f);
g=!0}};return b}(jaws||{}),jaws=function(b){b.Rect=function(c,b,e,h){if(!(this instanceof arguments.callee))return new arguments.callee(c,b,e,h);this.x=c;this.y=b;this.width=e;this.height=h;this.right=c+e;this.bottom=b+h};b.Rect.prototype.getPosition=function(){return[this.x,this.y]};b.Rect.prototype.move=function(b,d){this.x+=b;this.y+=d;this.right+=b;this.bottom+=d;return this};b.Rect.prototype.moveTo=function(b,d){this.x=b;this.y=d;this.right=this.x+this.width;this.bottom=this.y+this.height;return this};
b.Rect.prototype.resize=function(b,d){this.width+=b;this.height+=d;this.right=this.x+this.width;this.bottom=this.y+this.height;return this};b.Rect.prototype.clone=function(){return new b.Rect(this.x,this.y,this.width,this.height)};b.Rect.prototype.shrink=function(b,d){this.x+=b;this.y+=d;this.width-=b+b;this.height-=d+d;this.right=this.x+this.width;this.bottom=this.y+this.height;return this};b.Rect.prototype.resizeTo=function(b,d){this.width=b;this.height=d;this.right=this.x+this.width;this.bottom=
this.y+this.height;return this};b.Rect.prototype.draw=function(){b.context.strokeStyle="red";b.context.strokeRect(this.x,this.y,this.width,this.height);return this};b.Rect.prototype.collidePoint=function(b,d){return b>=this.x&&b<=this.right&&d>=this.y&&d<=this.bottom};b.Rect.prototype.collideRect=function(b){return(this.x>=b.x&&this.x<=b.right||b.x>=this.x&&b.x<=this.right)&&(this.y>=b.y&&this.y<=b.bottom||b.y>=this.y&&b.y<=this.bottom)};b.Rect.prototype.toString=function(){return"[Rect "+this.x+
", "+this.y+", "+this.width+", "+this.height+"]"};return b}(jaws||{});"undefined"!==typeof module&&"exports"in module&&(module.exports=jaws.Rect);
jaws=function(b){b.Sprite=function(c){if(!(this instanceof arguments.callee))return new arguments.callee(c);this.set(c);c.context&&(this.context=c.context);b.context&&(this.context=b.context)};b.Sprite.prototype.default_options={x:0,y:0,alpha:1,angle:0,flipped:!1,anchor_x:0,anchor_y:0,image:null,image_path:null,anchor:null,scale_image:null,damping:1,scale_x:1,scale_y:1,scale:1,color:"#ddd",width:16,height:16,_constructor:null,context:null};b.Sprite.prototype.set=function(c){b.parseOptions(this,c,
this.default_options);this.scale&&(this.scale_x=this.scale_y=this.scale);this.image&&this.setImage(this.image);this.scale_image&&this.scaleImage(this.scale_image);this.anchor&&this.setAnchor(this.anchor);if(!this.image&&this.color&&this.width&&this.height){c=document.createElement("canvas");var d=c.getContext("2d");c.width=this.width;c.height=this.height;d.fillStyle=this.color;d.fillRect(0,0,this.width,this.height);this.image=c}this.cacheOffsets();return this};b.Sprite.prototype.clone=function(b){b=
new (this._constructor?eval(this._constructor):this.constructor)(this.attributes());b._constructor=this._constructor||this.constructor.name;return b};b.Sprite.prototype.setImage=function(c){var d=this;if(b.isDrawable(c))return this.image=c,this.cacheOffsets();b.assets.isLoaded(c)?(this.image=b.assets.get(c),this.cacheOffsets()):(b.log.warn("Image '"+c+"' not preloaded with jaws.assets.add(). Image and a working sprite.rect() will be delayed."),b.assets.load(c,{onload:function(){d.image=b.assets.get(c);
d.cacheOffsets()}}));return this};b.Sprite.prototype.stepToWhile=function(b,d,e){var h=b<this.x?-1:1,f=d<this.y?-1:1;b=parseInt(b);d=parseInt(d);for(var l=!1,g=!1;;)if(!1===l&&(this.x!=b&&(this.x+=h),e(this)||(this.x-=h,l=!0)),!1===g&&(this.y!=d&&(this.y+=f),e(this)||(this.y-=f,g=!0)),(l||this.x==b)&&(g||this.y==d))return{x:l,y:g}};b.Sprite.prototype.flip=function(){this.flipped=this.flipped?!1:!0;return this};b.Sprite.prototype.flipTo=function(b){this.flipped=b;return this};b.Sprite.prototype.rotate=
function(b){this.angle+=b;return this};b.Sprite.prototype.rotateTo=function(b){this.angle=b;return this};b.Sprite.prototype.moveTo=function(c,d){b.isArray(c)&&void 0===d&&(d=c[1],c=c[0]);this.x=c;this.y=d;return this};b.Sprite.prototype.move=function(c,d){b.isArray(c)&&void 0===d&&(d=c[1],c=c[0]);c&&(this.x+=c);d&&(this.y+=d);return this};b.Sprite.prototype.scaleAll=function(b){this.scale_x*=b;this.scale_y*=b;return this.cacheOffsets()};b.Sprite.prototype.scaleTo=function(b){this.scale_x=this.scale_y=
b;return this.cacheOffsets()};b.Sprite.prototype.scaleWidth=function(b){this.scale_x*=b;return this.cacheOffsets()};b.Sprite.prototype.scaleHeight=function(b){this.scale_y*=b;return this.cacheOffsets()};b.Sprite.prototype.setX=function(b){this.x=b;return this};b.Sprite.prototype.setY=function(b){this.y=b;return this};b.Sprite.prototype.setTop=function(b){this.y=b+this.top_offset;return this};b.Sprite.prototype.setBottom=function(b){this.y=b-this.bottom_offset;return this};b.Sprite.prototype.setLeft=
function(b){this.x=b+this.left_offset;return this};b.Sprite.prototype.setRight=function(b){this.x=b-this.right_offset;return this};b.Sprite.prototype.setWidth=function(b){this.scale_x=b/this.image.width;return this.cacheOffsets()};b.Sprite.prototype.setHeight=function(b){this.scale_y=b/this.image.height;return this.cacheOffsets()};b.Sprite.prototype.resize=function(c,d){b.isArray(c)&&void 0===d&&(d=c[1],c=c[0]);this.scale_x=(this.width+c)/this.image.width;this.scale_y=(this.height+d)/this.image.height;
return this.cacheOffsets()};b.Sprite.prototype.resizeTo=function(c,d){b.isArray(c)&&void 0===d&&(d=c[1],c=c[0]);this.scale_x=c/this.image.width;this.scale_y=d/this.image.height;return this.cacheOffsets()};b.Sprite.prototype.setAnchor=function(b){if(a={top_left:[0,0],left_top:[0,0],center_left:[0,0.5],left_center:[0,0.5],bottom_left:[0,1],left_bottom:[0,1],top_center:[0.5,0],center_top:[0.5,0],center_center:[0.5,0.5],center:[0.5,0.5],bottom_center:[0.5,1],center_bottom:[0.5,1],top_right:[1,0],right_top:[1,
0],center_right:[1,0.5],right_center:[1,0.5],bottom_right:[1,1],right_bottom:[1,1]}[b])this.anchor_x=a[0],this.anchor_y=a[1],this.image&&this.cacheOffsets();return this};b.Sprite.prototype.cacheOffsets=function(){if(this.image)return this.width=this.image.width*this.scale_x,this.height=this.image.height*this.scale_y,this.left_offset=this.width*this.anchor_x,this.top_offset=this.height*this.anchor_y,this.right_offset=this.width*(1-this.anchor_x),this.bottom_offset=this.height*(1-this.anchor_y),this.cached_rect&&
this.cached_rect.resizeTo(this.width,this.height),this};b.Sprite.prototype.rect=function(){!this.cached_rect&&this.width&&(this.cached_rect=new b.Rect(this.x,this.y,this.width,this.height));this.cached_rect&&this.cached_rect.moveTo(this.x-this.left_offset,this.y-this.top_offset);return this.cached_rect};b.Sprite.prototype.draw=function(){if(!this.image)return this;this.context.save();this.context.translate(this.x,this.y);0!=this.angle&&b.context.rotate(this.angle*Math.PI/180);this.flipped&&this.context.scale(-1,
1);this.context.globalAlpha=this.alpha;this.context.translate(-this.left_offset,-this.top_offset);this.context.drawImage(this.image,0,0,this.width,this.height);this.context.restore();return this};b.Sprite.prototype.scaleImage=function(c){if(this.image)return this.setImage(b.gfx.retroScaleImage(this.image,c)),this};b.Sprite.prototype.asCanvasContext=function(){var c=document.createElement("canvas");c.width=this.width;c.height=this.height;c=c.getContext("2d");b.context&&(c.mozImageSmoothingEnabled=
b.context.mozImageSmoothingEnabled);c.drawImage(this.image,0,0,this.width,this.height);return c};b.Sprite.prototype.asCanvas=function(){var c=document.createElement("canvas");c.width=this.width;c.height=this.height;var d=c.getContext("2d");b.context&&(d.mozImageSmoothingEnabled=b.context.mozImageSmoothingEnabled);d.drawImage(this.image,0,0,this.width,this.height);return c};b.Sprite.prototype.toString=function(){return"[Sprite "+this.x.toFixed(2)+", "+this.y.toFixed(2)+", "+this.width+", "+this.height+
"]"};b.Sprite.prototype.attributes=function(){var b=this.options;b._constructor=this._constructor||"jaws.Sprite";b.x=parseFloat(this.x.toFixed(2));b.y=parseFloat(this.y.toFixed(2));b.image=this.image_path;b.alpha=this.alpha;b.flipped=this.flipped;b.angle=parseFloat(this.angle.toFixed(2));b.scale_x=this.scale_x;b.scale_y=this.scale_y;b.anchor_x=this.anchor_x;b.anchor_y=this.anchor_y;return b};b.Sprite.prototype.toJSON=function(){return JSON.stringify(this.attributes())};return b}(jaws||{});
"undefined"!==typeof module&&"exports"in module&&(module.exports=jaws.Sprite);
jaws=function(b){function c(b,c,h,f,l){var g=document.createElement("canvas");g.width=f;g.height=l;g.getContext("2d").drawImage(b,c,h,f,l,0,0,g.width,g.height);return g}b.SpriteSheet=function(d){if(!(this instanceof arguments.callee))return new arguments.callee(d);b.parseOptions(this,d,this.default_options);if(b.isString(this.image)&&!d.frame_size){var e=RegExp("_(\\d+)x(\\d+)","g").exec(this.image);this.frame_size=[];this.frame_size[0]=parseInt(e[1]);this.frame_size[1]=parseInt(e[2])}this.image=
b.isDrawable(this.image)?this.image:b.assets.data[this.image];this.scale_image&&(e=b.isDrawable(this.image)?this.image:b.assets.get(this.image),this.frame_size[0]*=this.scale_image,this.frame_size[1]*=this.scale_image,this.image=b.gfx.retroScaleImage(e,this.scale_image));this.frames=[];if("down"==this.orientation)for(e=this.offset;e<this.image.width;e+=this.frame_size[0])for(var h=0;h<this.image.height;h+=this.frame_size[1])this.frames.push(c(this.image,e,h,this.frame_size[0],this.frame_size[1]));
else for(h=this.offset;h<this.image.height;h+=this.frame_size[1])for(e=0;e<this.image.width;e+=this.frame_size[0])this.frames.push(c(this.image,e,h,this.frame_size[0],this.frame_size[1]))};b.SpriteSheet.prototype.default_options={image:null,orientation:"down",frame_size:[32,32],offset:0,scale_image:null};b.SpriteSheet.prototype.toString=function(){return"[SpriteSheet "+this.frames.length+" frames]"};return b}(jaws||{});
jaws=function(b){b.Animation=function(c){if(!(this instanceof arguments.callee))return new arguments.callee(c);b.parseOptions(this,c,this.default_options);if(c.sprite_sheet){var d=new b.SpriteSheet({image:c.sprite_sheet,scale_image:this.scale_image,frame_size:this.frame_size,orientation:this.orientation,offset:this.offset});this.frames=d.frames;this.frame_size=d.frame_size}c.scale_image&&(d=b.isDrawable(c.sprite_sheet)?c.sprite_sheet:b.assets.get(c.sprite_sheet),this.frame_size[0]*=c.scale_image,
this.frame_size[1]*=c.scale_image,c.sprite_sheet=b.gfx.retroScaleImage(d,c.scale_image));this.current_tick=(new Date).getTime();this.last_tick=(new Date).getTime();this.sum_tick=0;if(c.subsets)for(subset in this.subsets={},c.subsets)start_stop=c.subsets[subset],this.subsets[subset]=this.slice(start_stop[0],start_stop[1])};b.Animation.prototype.default_options={frames:[],subsets:[],frame_duration:100,index:0,loop:1,bounce:0,frame_direction:1,frame_size:null,orientation:"down",on_end:null,offset:0,
scale_image:null,sprite_sheet:null};b.Animation.prototype.subset=function(b){return this.subsets[b]};b.Animation.prototype.update=function(){this.current_tick=(new Date).getTime();this.sum_tick+=this.current_tick-this.last_tick;this.last_tick=this.current_tick;this.sum_tick>this.frame_duration&&(this.index+=this.frame_direction,this.sum_tick=0);if(this.index>=this.frames.length||0>this.index)this.bounce?(this.frame_direction=-this.frame_direction,this.index+=2*this.frame_direction):this.loop?this.index=
0>this.frame_direction?this.frames.length-1:0:(this.index-=this.frame_direction,this.on_end&&(this.on_end(),this.on_end=null));return this};b.Animation.prototype.slice=function(c,d){var e={};e.frame_duration=this.frame_duration;e.loop=this.loop;e.bounce=this.bounce;e.on_end=this.on_end;e.frame_direction=this.frame_direction;e.frames=this.frames.slice().slice(c,d);return new b.Animation(e)};b.Animation.prototype.next=function(){this.update();return this.frames[this.index]};b.Animation.prototype.atLastFrame=
function(){return this.index==this.frames.length-1};b.Animation.prototype.atFirstFrame=function(){return 0==this.index};b.Animation.prototype.currentFrame=function(){return this.frames[this.index]};b.Animation.prototype.toString=function(){return"[Animation, "+this.frames.length+" frames]"};return b}(jaws||{});
jaws=function(b){b.Viewport=function(c){if(!(this instanceof arguments.callee))return new arguments.callee(c);b.parseOptions(this,c,this.default_options);this.context||(this.context=b.context);this.width||(this.width=b.width);this.height||(this.height=b.height);this.max_x||(this.max_x=b.width);this.max_y||(this.max_y=b.height);var d=this;this.move=function(b,c){b&&(this.x+=b);c&&(this.y+=c);this.verifyPosition()};this.moveTo=function(b,c){void 0!=b&&(this.x=b);void 0!=c&&(this.y=c);this.verifyPosition()};
this.isOutside=function(b){return!d.isInside(b)};this.isInside=function(b){return b.x>=d.x&&b.x<=d.x+d.width&&b.y>=d.y&&b.y<=d.y+d.height};this.isPartlyInside=function(b){var c=b.rect();return c.right>=d.x&&c.x<=d.x+d.width&&c.bottom>=d.y&&b.y<=d.y+d.height};this.isLeftOf=function(b){return b.x<d.x};this.isRightOf=function(b){return b.x>d.x+d.width};this.isAbove=function(b){return b.y<d.y};this.isBelow=function(b){return b.y>d.y+d.height};this.centerAround=function(b){this.x=Math.floor(b.x-this.width/
2);this.y=Math.floor(b.y-this.height/2);this.verifyPosition()};this.forceInsideVisibleArea=function(c,d){c.x<this.x+d&&(c.x=this.x+d);c.x>this.x+b.width-d&&(c.x=this.x+b.width-d);c.y<this.y+d&&(c.y=this.y+d);c.y>this.y+b.height-d&&(c.y=this.y+b.height-d)};this.forceInside=function(b,c){b.x<c&&(b.x=c);b.x>this.max_x-c&&(b.x=this.max_x-c);b.y<c&&(b.y=c);b.y>this.max_y-c&&(b.y=this.max_y-c)};this.apply=function(b){this.context.save();this.context.translate(-this.x,-this.y);b();this.context.restore()};
this.draw=function(b){this.apply(function(){b.forEach?b.forEach(d.drawIfPartlyInside):b.draw&&d.drawIfPartlyInside(b)})};this.drawTileMap=function(b){var c=b.atRect({x:this.x,y:this.y,right:this.x+this.width,bottom:this.y+this.height});this.apply(function(){for(var b=0;b<c.length;b++)c[b].draw()})};this.drawIfPartlyInside=function(b){d.isPartlyInside(b)&&b.draw()};this.verifyPosition=function(){var b=this.max_x-this.width;0>this.x&&(this.x=0);this.x>b&&(this.x=b);b=this.max_y-this.height;0>this.y&&
(this.y=0);this.y>b&&(this.y=b)};this.moveTo(c.x||0,c.y||0)};b.Viewport.prototype.default_options={context:null,width:null,height:null,max_x:null,max_y:null,x:0,y:0};b.Viewport.prototype.toString=function(){return"[Viewport "+this.x.toFixed(2)+", "+this.y.toFixed(2)+", "+this.width+", "+this.height+"]"};return b}(jaws||{});
jaws=function(b){function c(b,c){for(var h=function(c){return void 0!==b.isSpriteList?b.at(c):b[c]},f=[],l=Array(c),g=0;g<c;g++)l[g]=g;for(var g=c-1,k=b.length;0<=g;k=b.length){for(f.push(l.map(h));0<=g&&l[g]===k-1;)g--,k--;if(0<=g){l[g]+=1;for(g+=1;g<c;g++)l[g]=l[g-1]+1;g=c-1}}return f}b.collideOneWithOne=function(c,e){return c.radius&&e.radius&&c!==e&&b.collideCircles(c,e)||c.rect&&e.rect&&c!==e&&b.collideRects(c.rect(),e.rect())?!0:!1};b.collideOneWithMany=function(c,e,h){var f=[];if(h){for(var l=
0;l<e.length;l++)b.collideOneWithOne(c,e[l])&&(h(c,e[l]),f.push(e[l]));return f}return e.filter(function(e){return b.collideOneWithOne(c,e)})};b.collideManyWithMany=function(d,e,h){var f=[];d===e?c(d,2).forEach(function(c){b.collideOneWithOne(c[0],c[1])&&(h?h(c[0],c[1]):f.push([c[0],c[1]]))}):d.forEach(function(c){e.forEach(function(d){b.collideOneWithOne(c,d)&&(h?h(c,d):f.push([c,d]))})});return f};b.collideCircles=function(c,e){return b.distanceBetween(c,e)<c.radius+e.radius};b.collideRects=function(b,
c){return(b.x>=c.x&&b.x<=c.right||c.x>=b.x&&c.x<=b.right)&&(b.y>=c.y&&b.y<=c.bottom||c.y>=b.y&&c.y<=b.bottom)};b.distanceBetween=function(b,c){return Math.sqrt(Math.pow(b.x-c.x,2)+Math.pow(b.y-c.y,2))};b.collide=function(c,e,h){if(c.rect&&e.forEach)return 0<b.collideOneWithMany(c,e,h).length;if(c.forEach&&e.forEach)return 0<b.collideManyWithMany(c,e,h).length;if(c.forEach&&e.rect)return 0<b.collideOneWithMany(e,c,h).length;if(c.rect&&e.rect){var f=b.collideOneWithOne(c,e);if(h&&f)h(c,e);else return f}};
return b}(jaws||{});
jaws=function(b){b.PixelMap=function(c){if(!(this instanceof arguments.callee))return new arguments.callee(c);this.options=c;this.scale=c.scale||1;c.image?(this.setContext(c.image),c.scale_image&&this.setContext(b.gfx.retroScaleImage(this.context.canvas,c.scale_image)),this.width=this.context.canvas.width*this.scale,this.height=this.context.canvas.height*this.scale):console.log.warn("PixelMap needs an image to work with");this.named_colors=[];this.update()};b.PixelMap.prototype.setContext=function(c){c=
b.isDrawable(c)?c:b.assets.get(c);this.context=b.imageToCanvasContext(c)};b.PixelMap.prototype.update=function(b,d,e,h){void 0===b&&(b=0);void 0===d&&(d=0);void 0===e&&(e=this.width);void 0===h&&(h=this.height);console.log("getImageData",b," ",d," - ",e," ",h);if(0==arguments.length)this.data=this.context.getImageData(b,d,e,h).data;else for(var f=this.context.getImageData(b,d,e,h).data,l=4*d*this.sprite.width+4*b,g=0;g<f.length;g++)this.data[l+g]=f[g]};b.PixelMap.prototype.draw=function(){b.context.drawImage(this.context.canvas,
0,0,this.width,this.height)};b.PixelMap.prototype.namedColorAtRect=function(b,d){for(var e=d.x,h=d.y;e<d.right;e++)if(this.namedColorAt(e,h)==b)return this.namedColorAt(e,h);for(;h<d.bottom;h++)if(this.namedColorAt(e,h)==b)return this.namedColorAt(e,h);for(;e>d.x;e--)if(this.namedColorAt(e,h)==b)return this.namedColorAt(e,h);for(;h>d.y;h--)if(this.namedColorAt(e,h)==b)return this.namedColorAt(e,h);return!1};b.PixelMap.prototype.at=function(b,d){b=parseInt(b);d=parseInt(d);0>d&&(d=0);var e=4*d*this.width+
4*b;return[this.data[e],this.data[e+1],this.data[e+2],this.data[e+3]]};b.PixelMap.prototype.namedColorAt=function(b,d){for(var e=this.at(b,d),h=0;h<this.named_colors.length;h++){var f=this.named_colors[h].name,l=this.named_colors[h].color;if(l[0]==e[0]&&l[1]==e[1]&&l[2]==e[2]&&l[3]==e[3])return f}};b.PixelMap.prototype.nameColor=function(b,d){this.named_colors.push({name:b,color:d})};return b}(jaws||{});
jaws=function(b){b.Parallax=function(c){if(!(this instanceof arguments.callee))return new arguments.callee(c);b.parseOptions(this,c,this.default_options)};b.Parallax.prototype.default_options={width:function(){b.width},height:function(){b.height},scale:1,repeat_x:null,repeat_y:null,camera_x:0,camera_y:0,width:null,height:null,layers:[]};b.Parallax.prototype.draw=function(b){for(var d,e=0;e<this.layers.length;e++)for(b=this.layers[e],d=this.repeat_x?-(this.camera_x/b.damping%b.width):-(this.camera_x/
b.damping),b.y=this.repeat_y?-(this.camera_y/b.damping%b.height):-(this.camera_y/b.damping),b.x=d;b.y<this.height;){for(;b.x<this.width&&(0<=b.x+b.width&&0<=b.y+b.height&&b.draw(),b.x+=b.width,this.repeat_x););b.y+=b.height;b.x=d;if(!this.repeat_y)break}};b.Parallax.prototype.addLayer=function(c){c=new b.ParallaxLayer(c);c.scaleAll(this.scale);this.layers.push(c)};b.Parallax.prototype.toString=function(){return"[Parallax "+this.x+", "+this.y+". "+this.layers.length+" layers]"};b.ParallaxLayer=function(c){if(!(this instanceof
arguments.callee))return new arguments.callee(c);this.damping=c.damping||0;b.Sprite.call(this,c)};b.ParallaxLayer.prototype=b.Sprite.prototype;return b}(jaws||{});
jaws=function(b){b.QuadTree=function(c,d){this.depth=d||0;this.bounds=c||new b.Rect(0,0,b.width,b.height);this.nodes=[];this.objects=[]};b.QuadTree.prototype.clear=function(){this.objects=[];for(var b=0;b<this.nodes.length;b++)"undefined"!==typeof this.nodes[b]&&(this.nodes[b].clear(),delete this.nodes[b])};b.QuadTree.prototype.split=function(){var c=Math.round(this.bounds.width/2),d=Math.round(this.bounds.height/2),e=this.bounds.x,h=this.bounds.y;this.nodes[0]=new b.QuadTree(new b.Rect(e+c,h,c,d),
this.depth+1);this.nodes[1]=new b.QuadTree(new b.Rect(e,h,c,d),this.depth+1);this.nodes[2]=new b.QuadTree(new b.Rect(e,h+d,c,d),this.depth+1);this.nodes[3]=new b.QuadTree(new b.Rect(e+c,h+d,c,d),this.depth+1)};b.QuadTree.prototype.getIndex=function(b){var d=-1,e=this.bounds.x+this.bounds.width/2,h=this.bounds.y+this.bounds.height/2,f=b.y<h&&b.y+b.height<h,h=b.y>h;b.x<e&&b.x+b.width<e?f?d=1:h&&(d=2):b.x>e&&(f?d=0:h&&(d=3));return d};b.QuadTree.prototype.insert=function(b){if(b.hasOwnProperty("x")||
b.hasOwnProperty("y")||b.hasOwnProperty("width")||b.hasOwnProperty("height")){if("undefined"!==typeof this.nodes[0]){var d=this.getIndex(b);if(-1!==d){this.nodes[d].insert(b);return}}this.objects.push(b);"undefined"===typeof this.nodes[0]&&this.split();for(b=0;b<this.objects.length;)d=this.getIndex(this.objects[b]),-1!==d?this.nodes[d].insert(this.objects.splice(b,1)[0]):b++}};b.QuadTree.prototype.retrieve=function(b){if(b.hasOwnProperty("x")||b.hasOwnProperty("y")||b.hasOwnProperty("width")||b.hasOwnProperty("height")){var d=
this.getIndex(b),e=this.objects;if("undefined"!==typeof this.nodes[0])if(-1!==d)e=e.concat(this.nodes[d].retrieve(b));else for(d=0;d<this.nodes.length;d++)e=e.concat(this.nodes[d].retrieve(b));return e}};b.QuadTree.prototype.collide=function(c,d,e){var h=!1,f=new b.QuadTree,l=[];c.forEach||(l.push(c),c=l);d.forEach||(l=[],l.push(d),d=l);d.forEach(function(b){f.insert(b)});c.forEach(function(c){b.collide(c,f.retrieve(c),e)&&(h=!0)});f.clear();return h};return b}(jaws||{});
"undefined"!==typeof module&&"exports"in module&&(module.exports=jaws.QuadTree);window.addEventListener("load",function(){if(jaws.onload)jaws.onload()},!1);
