<!DOCTYPE html> 
<html>
  <head>
    <script src="../jaws.js"></script>
    <link type="text/css" rel="stylesheet" href="style.css" />
    <title>Jaws Example #6 - Parallax()</title>
  </head>

  <body>
    <center>

    <canvas width=800 height=100></canvas><br />
    FPS: <span id="fps"></span>

    <div id="info">
      <h1>Parallax()</h1>
    </div >

    <script>

    /*
    *
    * PlayState is the actual game play. We switch to it once user choses "Start game"
    *
    */
    var fps = document.getElementById("fps")
    function ParallaxDemo() {
      var parallax

      this.setup = function() {
        parallax = new jaws.Parallax({scale: 1, repeat_x: true})
        parallax.addLayer({image: "parallax_1.png", damping: 100})
        parallax.addLayer({image: "parallax_2.png", damping: 6})
        parallax.addLayer({image: "parallax_3.png", damping: 4, y: 5})
        parallax.addLayer({image: "parallax_4.png", damping: 2, y: 10})
      }

      this.update = function() {
        if(jaws.pressed("left"))  { parallax.camera_x -= 5 }
        if(jaws.pressed("right")) { parallax.camera_x += 5 }
        parallax.camera_x += 2
        fps.innerHTML = jaws.gameloop.fps
      }

      this.draw = function() {
        jaws.context.clearRect(0,0,jaws.width,jaws.height)
        parallax.draw()
      }
    }

    jaws.assets.add("parallax_1.png")
    jaws.assets.add("parallax_2.png")
    jaws.assets.add("parallax_3.png")
    jaws.assets.add("parallax_4.png")
    jaws.start(ParallaxDemo)
  </script>
</center>
</body>
</html>

