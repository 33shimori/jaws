<!DOCTYPE html> 
<html>
  <head>
    <script src="../jaws-dynamic.js"></script>
    <script src="../game_states/edit.js"></script>
    <link type="text/css" rel="stylesheet" href="style.css" />
    <title>Jaws Example #9 - game state Edit</title>
  </head>
<body>

  <canvas width=500 height=400></canvas>

  <div id="jaws-edit" />Editor output will show here.</div>
  <div id="live_info"></div>
  
  <div id="info">
    <h1>Edit</h1>
    SPACE to activate editor, ESC to exit editor.<br/><br/>
    <code>
    game_state = new jaws.game_states.Edit({game_objects: blocks, grid_size: [32,32]});<br />
    jaws.switchGameState(game_state);
    </code>
    <br /><br />
    Click and drag to move sprites. Hold CTRL to select more then one.
  </div>
  
  <h3>jaws log</h3>
  <div id="jaws-log"></div>
 
  <script>
    function Example() {
      var blocks = new jaws.SpriteList()
      var live_info = document.getElementById("live_info")

      for(var nr=10; nr--; ) {
        blocks.push( new jaws.Sprite({image: "block.bmp", x: Math.random()*jaws.width, y: Math.random()*jaws.height}) )
      }
 
      /* Called once when a game state is activated. Use it for one-time setup code. */
      this.setup = function() {
        jaws.on_keydown(["esc","space"], function() { 
          jaws.switchGameState( new jaws.game_states.Edit({game_objects: blocks, grid_size: [32,32]}) )
        })
        jaws.preventDefaultKeys(["space"])
      }
      
      this.draw = function() {
        jaws.clear()
        blocks.draw()
      }
    }

    /* Entry point after jaws is done loading */
    jaws.onload = function() {
      // jaws.assets.add("block.bmp") // Uncomment to preload block.bmp
      // Without preload, a sprite using "block.bmp" will try to load it creation time
      jaws.start(Example)
    }
  </script>

</body>
</html>

